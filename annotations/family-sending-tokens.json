[
  {
    "screen": "FamilyHome",
    "type": "root",
    "flow": "FamilySendingTokens",
    "step": 0,
    "userStory": "I want to send crypto tokens to another wallet",
    "goal": "view wallet balance and token holdings",
    "pattern": "home-dashboard",
    "navigation": { "from": null, "trigger": "app launch", "to": "FamilyActionSheet" },
    "template": "RootTemplate",
    "templateProps": { "scrollable": true, "backgroundColor": "white" },
    "components": ["Avatar(Sam's)", "BalanceDisplay(ETH, USD)", "TokenList(ETH, USDC)"],
    "footer": { "type": "TabBar", "tabs": ["Home", "DeFi", "Browser", "Settings"] },
    "modals": []
  },
  {
    "screen": "FamilyActionSheet",
    "type": "actionSheet",
    "flow": "FamilySendingTokens",
    "step": 1,
    "goal": "choose a wallet action",
    "pattern": "action-sheet-menu",
    "navigation": { "from": "FamilyHome", "trigger": "tap action button", "to": "FamilySendAddress" },
    "template": "BottomSheet",
    "templateProps": { "overlay": true },
    "components": ["ActionButton(Send)", "ActionButton(Swap)", "ActionButton(Receive)", "ActionButton(Purchase)"],
    "footer": null,
    "modals": []
  },
  {
    "screen": "FamilySendAddress",
    "type": "enterAddress",
    "flow": "FamilySendingTokens",
    "step": 2,
    "goal": "enter or select recipient wallet address",
    "pattern": "address-entry",
    "navigation": { "from": "FamilyActionSheet", "trigger": "tap Send", "to": "FamilySendAddressFilled", "back": "FamilyHome" },
    "template": "FullscreenTemplate",
    "templateProps": { "leftIcon": "back", "scrollable": false },
    "components": ["TextField(address/ENS)", "ActionRow(Paste, QR, Recents, Address Book)"],
    "footer": null,
    "modals": []
  },
  {
    "screen": "FamilySendAddressFilled",
    "type": "enterAddress",
    "flow": "FamilySendingTokens",
    "step": 2,
    "state": "filled",
    "goal": "confirm matched address from search results",
    "pattern": "address-entry-with-results",
    "navigation": { "from": "FamilySendAddress", "trigger": "enter/paste address", "to": "FamilySelectToken" },
    "template": "FullscreenTemplate",
    "templateProps": { "leftIcon": "back", "scrollable": false },
    "components": ["TextField(address, filled)", "MatchingResults(ENS matches)"],
    "footer": null,
    "modals": []
  },
  {
    "screen": "FamilySelectToken",
    "type": "selectAsset",
    "flow": "FamilySendingTokens",
    "step": 3,
    "goal": "choose which token to send",
    "pattern": "asset-selection-list",
    "navigation": { "from": "FamilySendAddressFilled", "trigger": "select address", "to": "FamilyEnterAmount", "back": "FamilySendAddress" },
    "template": "FullscreenTemplate",
    "templateProps": { "leftIcon": "back", "scrollable": true },
    "components": ["ListItem(ETH, balance)", "ListItem(USDC, balance)"],
    "footer": null,
    "modals": []
  },
  {
    "screen": "FamilyEnterAmount",
    "type": "enterAmount",
    "flow": "FamilySendingTokens",
    "step": 4,
    "goal": "enter amount to send with crypto/fiat toggle",
    "pattern": "amount-entry-with-keypad",
    "navigation": { "from": "FamilySelectToken", "trigger": "select token", "to": "FamilyConfirmation", "back": "FamilySelectToken" },
    "template": "FullscreenTemplate",
    "templateProps": { "leftIcon": "back", "scrollable": false },
    "components": ["CurrencyInput(ETH)", "ConversionLabel(USD)", "ToggleButton(ETH/USD)", "Keypad"],
    "footer": {
      "type": "ModalFooter",
      "buttons": ["primary:Review"]
    },
    "modals": []
  },
  {
    "screen": "FamilyConfirmation",
    "type": "confirmation",
    "flow": "FamilySendingTokens",
    "step": 5,
    "goal": "review transaction details and network fee before sending",
    "pattern": "confirmation-receipt",
    "navigation": { "from": "FamilyEnterAmount", "trigger": "Review button", "to": "FamilyPasscodeAuth", "back": "FamilyEnterAmount" },
    "template": "FullscreenTemplate",
    "templateProps": { "leftIcon": "back", "scrollable": true },
    "components": ["TransactionHeader(ETH icon, amount)", "RecipientInfo(address)", "FeeEstimate(Normal/Urgent toggle)", "NetworkFee"],
    "footer": {
      "type": "ModalFooter",
      "buttons": ["primary:Send"]
    },
    "modals": []
  },
  {
    "screen": "FamilyPasscodeAuth",
    "type": "auth",
    "flow": "FamilySendingTokens",
    "step": 6,
    "goal": "authenticate to authorize the transaction",
    "pattern": "biometric-auth",
    "navigation": { "from": "FamilyConfirmation", "trigger": "Send button", "to": "FamilyProcessing" },
    "template": "SystemOverlay",
    "templateProps": { "type": "ios-passcode" },
    "components": ["PasscodeInput"],
    "footer": null,
    "modals": []
  },
  {
    "screen": "FamilyProcessing",
    "type": "processing",
    "flow": "FamilySendingTokens",
    "step": 7,
    "goal": "wait for transaction to be submitted to blockchain",
    "pattern": "processing-loading",
    "navigation": { "from": "FamilyPasscodeAuth", "trigger": "passcode confirmed", "to": "FamilyHomePostSend" },
    "template": "FullscreenTemplate",
    "templateProps": { "scrollable": false },
    "components": ["LoadingSpinner", "BodyText(Starting Your Transaction)"],
    "footer": null,
    "modals": []
  },
  {
    "screen": "FamilyHomePostSend",
    "type": "root",
    "flow": "FamilySendingTokens",
    "step": 8,
    "state": "post_transaction",
    "goal": "see updated balance after sending",
    "pattern": "home-dashboard",
    "navigation": { "from": "FamilyProcessing", "trigger": "transaction submitted", "to": null },
    "template": "RootTemplate",
    "templateProps": { "scrollable": true, "backgroundColor": "white" },
    "components": ["Avatar(Sam's)", "BalanceDisplay(ETH, USD, updated)", "TokenList(ETH, USDC)"],
    "footer": { "type": "TabBar", "tabs": ["Home", "DeFi", "Browser", "Settings"] },
    "modals": []
  }
]
